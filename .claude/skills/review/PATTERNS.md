# 重构模式速查

## 设计优先级

依赖注入 > 工厂模式 > 继承

## 代码坏味道 → 重构手法

| 坏味道 | 重构手法 |
|--------|----------|
| 重复代码 | 提取函数/类 |
| 过长函数 (>80行) | 拆分职责 |
| 过大类 | 拆分为多个类 |
| 过深嵌套 (>3层) | 早返回/卫语句 |
| 过多参数 (>5个) | 参数对象/Builder |
| 条件复杂 | 策略模式 |
| 类型判断多 | 多态 |
| 依赖混乱 | 依赖注入 |

## SOLID 速记

| 原则 | 违反信号 |
|------|---------|
| S 单一职责 | 类名带 "And"、方法过长 |
| O 开闭原则 | 频繁修改已有代码 |
| L 里氏替换 | isinstance 检查泛滥 |
| I 接口隔离 | 实现类有空方法 |
| D 依赖倒置 | 直接 import 具体类 |
